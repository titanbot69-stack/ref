				<div class="mb-2">
					<label for="ra-reject-remark" class="form-label small mb-1">Remark (required, max 150 chars)</label>
					<textarea id="ra-reject-remark" class="form-control form-control-sm" rows="2" maxlength="150" placeholder="Write the reason for rejection..."></textarea>
					<div class="form-text small"><span id="ra-reject-remark-count">0</span>/150</div>
				</div>



	function executeAction(row,eventId,action,remark){



			body: JSON.stringify(Object.assign({event_id: eventId, action}, action==='reject'?{remark:(remark||'').trim()}:{}))



			const remarkInput=document.getElementById('ra-reject-remark');
			const remarkCount=document.getElementById('ra-reject-remark-count');



			if(remarkInput){ remarkInput.value=''; remarkCount && (remarkCount.textContent='0'); }





	// Enable/disable confirm based on ack + remark
	(function(){
		const remarkInput=document.getElementById('ra-reject-remark');
		const remarkCount=document.getElementById('ra-reject-remark-count');
		function sync(){
			const text=(remarkInput?.value||'').trim();
			if(remarkCount) remarkCount.textContent=String(text.length);
			confirmBtn && (confirmBtn.disabled=!(ackBox.checked && text.length>0 && text.length<=150));
		}
		ackBox && ackBox.addEventListener('change',sync);
		remarkInput && remarkInput.addEventListener('input',sync);
	})();



		const remark=(document.getElementById('ra-reject-remark')?.value||'').trim();
		if(!remark||remark.length>150) return;


		executeAction(row,eventId,'reject',remark);
