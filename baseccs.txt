# Time helpers: consistent IST usage
IST_ZONE = ZoneInfo('Asia/Kolkata')

def now_ist():
    """Return current time as naive IST (Asia/Kolkata)."""
    return datetime.now(IST_ZONE).replace(tzinfo=None)

def to_ist(dt):
    if dt is None:
        return None
    if getattr(dt, 'tzinfo', None) is None:
        return dt
    return dt.astimezone(IST_ZONE).replace(tzinfo=None)
